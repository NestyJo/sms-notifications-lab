spring.application.name=lab-notification

server.port=${SERVER_PORT:9091}

# MySQL Database Configuration
spring.datasource.url=jdbc:mysql://${DB_HOST:192.168.30.246}:${DB_PORT:3306}/${DB_NAME:labnotifications}
spring.datasource.username=${DB_USERNAME:ernest}
spring.datasource.password=${DB_PASSWORD:ernest_12345678}

# Hibernate (JPA) Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

spring.datasource.hikari.maximum-pool-size=100
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.pool-name=HikariPool

lab.orders.base-url=${LAB_ORDERS_BASE_URL:http://192.168.235.250/labsms/swagger/labtestresults}

# Lab orders fetch source: remote (call endpoint) or mock (use classpath JSON)
lab.orders.source=${LAB_ORDERS_SOURCE:remote}
lab.orders.mock-resource=${LAB_ORDERS_MOCK_RESOURCE:Response.json}

sms.message-template=${SMS_MESSAGE_TEMPLATE:Dear %s, your lab results are ready. Order: %s}
sms.message-template-swahili=${SMS_MESSAGE_TEMPLATE_SWAHILI:Ndugu %s, majibu yako ya Maabara yapo tayari yametumwa kwa daktari. Asante na karibu tena tukuhudumie, Hospitali ya Taifa Muhimbili - Mloganzila.}
sms.batch-size=${SMS_BATCH_SIZE:10}
sms.provider-id=${SMS_PROVIDER_ID:MLOGANZILA}

sms.gateway.base-url=${SMS_GATEWAY_BASE_URL:https://messaging.kilakona.co.tz/api/v1}
sms.gateway.send-path=${SMS_GATEWAY_SEND_PATH:/vendor/message/send}
sms.gateway.api-key=${SMS_GATEWAY_API_KEY:chimwege}
sms.gateway.api-secret=${SMS_GATEWAY_API_SECRET:f5IZEc5o8PeXi9l5ilOo}
sms.gateway.sender-id=${SMS_GATEWAY_SENDER_ID:MLG}
sms.gateway.sender-name=${SMS_GATEWAY_SENDER_NAME:MLG}
sms.gateway.delivery-report-url=${SMS_GATEWAY_DELIVERY_REPORT_URL:}
sms.gateway.timeout-seconds=${SMS_GATEWAY_TIMEOUT:30}
sms.gateway.verify-ssl=${SMS_GATEWAY_VERIFY_SSL:false}

# Logging
logging.file.name=logs/lab-notification.log
logging.pattern.rolling-file-name=logs/lab-notification-%d{yyyy-MM-dd}.%i.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=7
logging.logback.rollingpolicy.clean-history-on-start=true

# CORS configuration
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:*}
app.cors.allowed-methods=${APP_CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}
app.cors.allowed-headers=${APP_CORS_ALLOWED_HEADERS:*}
app.cors.allow-credentials=${APP_CORS_ALLOW_CREDENTIALS:true}
